<template name="signIt">


    {{#if showSignItButton}}
        <button class="btn btn-lg btn-success showForm">Sign it!</button>
    {{/if}}

    {{#if hasSigned}}
        <div class="alert alert-success">Congrats, you've signed the manifesto!</div>
    {{/if}}

    {{#if showSignatureForm}}
        <h2>Sign it</h2>
            <div class="text-danger">
                NOTE - this is a beta-version of the site. The manifest text may be tweaked after you sign (although the overall message will be the same).
                If that bothers you then don't sign just yet.
            </div>

            <div class="well">
                <form>
                    <div class="row">
                        <div class="col col-sm-6">
                            <div class="form-group">
                                <label class="form-control-label" for="name">Name</label>
                                <input type="text" class="form-control" id="name" placeholder="">
                            </div>
                        </div>

                        <div class="col col-sm-6">
                            <div class="form-group">
                                <label for="country">Country</label>
                                <select class="form-control" name="country" id="country">
                                    <option value="">(select one)</option>
                                    {{#each countries}}
                                        <option value="{{name}}">{{name}}</option>
                                    {{/each}}
                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="form-group">
                        <label for="info">About you (optional)</label>
                        <input type="text" class="form-control" id="info" placeholder="Organization, role, or anything else you want to share">
                    </div>

                    <div class="form-group">
                        <label for="comments">Comments (optional)</label>
                        <textarea rows="5" class="form-control" id="comments" placeholder=""></textarea>
                        <small class="form-text text-muted">Your post will be listed below (without email address). Any off-topic posts will be removed.</small>

                    </div>

                    {{#if nameMissing}}
                        <div class="alert alert-danger">Please write your name.</div>
                    {{/if}}
                    {{#if emailMissing}}
                        <div class="alert alert-danger">Since you want to be on the mailing list, I need your email address.</div>
                    {{/if}}
                    {{#if somethingWentWrongVar}}
                        <div class="alert alert-danger">
                            Oops. This is embarrassing. Something went wrong! Definitely not your fault.
                            If you know how, please check the browser console and email the error message to info@everytoncounts.org.
                            Thanks!
                        </div>
                    {{/if}}

                </form>
                <div>
                <button class="signButton btn btn-lg btn-success">Sign it!</button>
                <button class="cancelButton btn btn-link">No, close this form.</button>
                </div>


            </div>

    {{/if}}

    {{#if showEmailForm}}
        <div class="well">
            <form>
                <label>Do you want to join the mailing list?</label>
                <div class="form-group">
                    <input type="email" class="form-control" id="email" aria-describedby="nameHelp" placeholder="Email address">
                    <div class="small form-text text-muted">
                        Max 1 message per month, and only stuff related to CO<sub>2</sub> reduction.
                        We won't spam you or share your email with anyone.
                    </div>
                    {{#if emailMissing}}
                        <div class="alert alert-danger">We'll need your email address.</div>
                    {{/if}}
                </div>

            </form>
            <div>
                <button class="joinMailingListButton btn btn-lg btn-success">Yes please</button>
                <button class="cancelButton btn btn-lg btn-default">No thanks</button>
            </div>

        </div>

    {{/if}}

    {{#if somethingWentWrong}}
        <div class="alert alert-danger">
            Oops. This is embarrassing. Something went wrong! Definitely not your fault.
            If you know how, please check the browser console and email the error message to info@everytoncounts.org.
            Thanks!
        </div>
    {{/if}}


    </template>